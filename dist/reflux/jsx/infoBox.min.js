"use strict";define(function(require,exports,module){var e=require("react"),t=require("../actions/crud_actions"),n=require("./crudBtn"),a=e.createClass({displayName:"InfoBox",getInitialState:function(){return{id:null,title:"",author:""}},okHandler:function(e){var n,a;this.refs.title.value?(n={id:this.state.id,title:this.refs.title.value,author:this.refs.author.value?this.refs.author.value:"none",description:"none",pubtime:new Date},a="none",t.dataChange(n)):(n=null,a="block",alert("标题不能为空")),this.reset(),this.props.callbackParent(a)},cancelHander:function(e){this.reset(),this.props.callbackParent("none")},changeHandler:function(e){var t={};t[e.target.getAttribute("name")]=e.target.value,this.setState(t)},reset:function(){this.setState({title:"",author:""})},render:function(){return e.createElement("form",null,e.createElement("ul",null,e.createElement("li",null,e.createElement("span",null,"标题"),e.createElement("span",null,e.createElement("input",{ref:"title",name:"title",type:"text",value:this.state.title,onChange:this.changeHandler}))),e.createElement("li",null,e.createElement("span",null,"作者"),e.createElement("span",null,e.createElement("input",{ref:"author",name:"author",type:"text",value:this.state.author,onChange:this.changeHandler})))),e.createElement("div",{className:"col-btn"},e.createElement(n,{btnName:"确定",className:"btn btn-ok",callbackParent:this.okHandler}),e.createElement(n,{btnName:"取消",className:"btn btn-cancel",callbackParent:this.cancelHander})))}});return a});