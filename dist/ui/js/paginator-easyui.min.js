"use strict";!function($){function a(a){function n(a,n){var e=parseInt(n);return e?void t(a,e):!1}function e(t){var n=o.nav[t],e=o.showButtonText?o.btnText[t]:"",i=$('<a href="javascript:void(0)" class="li-page '+t+'"></a>').appendTo(l);return i.wrap("<li></li>"),i.html(e).on("click.pagination",function(){n.handler.call(a)}),i}for(var i=$.data(a,"pagination"),o=i.options,s=i.pageItem={},p=$(a).addClass("pagination").html("<ul class='clearfix'></ul>"),l=p.find("ul"),r=$.extend([],o.layout),g=0;g<r.length;g++){var u=r[g];"first"==u?s.first=e("first"):"prev"==u?s.prev=e("prev"):"next"==u?s.next=e("next"):"last"==u?s.last=e("last"):"links"==u?$('<li class="pagination-links"></li>').appendTo(l):"total"==u?s.total=$('<li class="total"></li>').appendTo(l):"manual"==u?(s.num=$('<input class="pagination-num" type="text" value="1" size="2">').appendTo(l).wrap("<li class='manual'></li>").before(o.beforePageText+" ").after(" 页"),s.num.off(".pagination").on("keydown.pagination",function(t){13==t.keyCode&&(n(a,$(this).val()),t.stopPropagation())})):"submitButton"==u&&(s.submit=$('<button type="button">确定</button>').appendTo(l).wrap('<li class="btn"></li>'),s.submit.off(".pagination").on("click.pagination",function(t){var e=s.num.val();n(a,e),o.onSubmitPage.call(a,e)}))}}function t(a,t){var e=$.data(a,"pagination").options;n(a,{pageNumber:t}),e.onSelectPage.call(a,e.pageNumber,e.pageSize,e.pageTarget)}function n(a,n){var i=$.data(a,"pagination"),o=i.options,s=i.pageItem;$.extend(o,n||{});var p=Math.ceil(o.total/o.pageSize)||1,l=o.sideLinks;if(o.pageNumber<1&&(o.pageNumber=1),o.pageNumber>p&&(o.pageNumber=p),0==o.total)return o.pageNumber=0,void(p=0);s.num&&s.num.val(o.pageNumber),s.total&&s.total.html(o.afterPageText.replace(/{pages}/,p));var r=$(a).find("li.pagination-links");if(r.length){r.empty();var g=0;if(2*l+2>=p)for(g=0;p>g;g++){var u=$('<a class="pagination-link li-page num" href="javascript:void(0)"></a>').html(g+1).appendTo(r);u.attr("data-num",g+1),o.pageNumber==g+1&&u.addClass("selected")}else{var u=$('<a class="pagination-link li-page num" href="javascript:void(0)"></a>').html(1).appendTo(r);u.attr("data-num",1),1==o.pageNumber&&u.addClass("selected"),o.pageNumber>l+2&&(u=$('<a class="pagination-ellipsis" href="javascript:void(0)"></a>').html("...").appendTo(r));var d=o.pageNumber-l>1?o.pageNumber-l:2,c=o.pageNumber+l<p?o.pageNumber+l:p-1;for(o.pageNumber<=l+1&&(c=c+l-o.pageNumber+1),o.pageNumber>p-l&&(d-=l-(p-o.pageNumber)),g=d;c>=g;g++)u=$('<a class="pagination-link li-page num" href="javascript:void(0)"></a>').html(g).appendTo(r),u.attr("data-num",g),o.pageNumber==g&&u.addClass("selected");o.pageNumber<p-l-1&&(u=$('<a class="pagination-ellipsis"  href="javascript:void(0)"></a>').html("...").appendTo(r)),u=$('<a class="pagination-link li-page num" href="javascript:void(0)"></a>').html(p).appendTo(r),u.attr("data-num",p),o.pageNumber==p&&u.addClass("selected")}var f=r.find("a");for(g=0,len=f.length;g<len;g++){var m=$(f[g]);if(!m.hasClass("selected")&&!m.hasClass("pagination-ellipsis")){var h=parseInt(m.attr("data-num"));m.off(".pagination").on("click.pagination",{pageNumber:h},function(n){t(a,n.data.pageNumber)})}}}s.first&&(o.total&&1!=o.pageNumber?s.first.removeClass("pagination-disabled"):s.first.addClass("pagination-disabled")),s.prev&&(o.total&&1!=o.pageNumber?s.prev.removeClass("pagination-disabled"):s.prev.addClass("pagination-disabled")),s.next&&(o.pageNumber==p?s.next.addClass("pagination-disabled"):s.next.removeClass("pagination-disabled")),s.last&&(o.pageNumber==p?s.last.addClass("pagination-disabled"):s.last.removeClass("pagination-disabled")),e(a,o.loading)}function e(a,t){var n=$.data(a,"pagination"),e=n.options;e.loading=t,e.showRefresh}$.fn.pagination=function(t,e){return"string"==typeof t?$.fn.pagination.methods[t](this,e):(t=t||{},this.each(function(){var e,i=$.data(this,"pagination");i?e=$.extend(i.options,t):(e=$.extend({},$.fn.pagination.defaults,t),$.data(this,"pagination",{options:e})),a(this),n(this)}))},$.fn.pagination.methods={options:function(a){return $.data(a[0],"pagination").options},loading:function(a){return a.each(function(){e(this,!0)})},loaded:function(a){return a.each(function(){e(this,!1)})},select:function(a,n){return a.each(function(){t(this,n)})}},$.fn.pagination.defaults={total:1,pageSize:10,pageNumber:1,pageTarget:null,sideLinks:2,loading:!1,showRefresh:!1,showButtonText:!0,beforePageText:"到第",afterPageText:"共{pages}页",btnText:{first:"首页",prev:"上一页",next:"下一页",last:"尾页"},layout:["first","prev","links","next","last"],onSelectPage:function(a,t){},onBeforeRefresh:function(a,t){},onRefresh:function(a,t){},onChangePageSize:function(a){},onSubmitPage:function(a){},nav:{first:{iconCls:"pagination-first",handler:function(){var a=$(this).pagination("options");a.pageNumber>1&&$(this).pagination("select",1)}},prev:{iconCls:"pagination-prev",handler:function(){var a=$(this).pagination("options");a.pageNumber>1&&$(this).pagination("select",a.pageNumber-1)}},next:{iconCls:"pagination-next",handler:function(){var a=$(this).pagination("options"),t=Math.ceil(a.total/a.pageSize);a.pageNumber<t&&$(this).pagination("select",a.pageNumber+1)}},last:{iconCls:"pagination-last",handler:function(){var a=$(this).pagination("options"),t=Math.ceil(a.total/a.pageSize);a.pageNumber<t&&$(this).pagination("select",t)}}}}}(jQuery);