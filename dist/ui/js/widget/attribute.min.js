"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};define(function(require,exports,module){function t(t){return"[object String]"===O.call(t)}function r(t){return"[object Function]"===O.call(t)}function e(t){return null!=t&&t==t.window}function n(t){if(!t||"[object Object]"!==O.call(t)||t.nodeType||e(t))return!1;try{if(t.constructor&&!j.call(t,"constructor")&&!j.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}var n;if(d)for(n in t)return j.call(t,n);for(n in t);return void 0===n||j.call(t,n)}function i(t){if(!t||"[object Object]"!==O.call(t)||t.nodeType||e(t)||!t.hasOwnProperty)return!1;for(var r in t)if(t.hasOwnProperty(r))return!1;return!0}function o(t,r){var e;for(e in r)r.hasOwnProperty(e)&&(t[e]=a(r[e],t[e]));return t}function a(t,r){return w(t)?t=t.slice():n(t)&&(n(r)||(r={}),t=o(r,t)),t}function u(t,r,e){for(var n=[],o=r.constructor.prototype;o;)o.hasOwnProperty("attrs")||(o.attrs={}),s(e,o.attrs,o),i(o.attrs)||n.unshift(o.attrs),o=o.constructor.superclass;for(var a=0,u=n.length;u>a;a++)y(t,v(n[a]))}function c(t,r){y(t,v(r,!0),!0)}function s(t,r,e,n){for(var i=0,o=t.length;o>i;i++){var a=t[i];e.hasOwnProperty(a)&&(r[a]=n?r.get(a):e[a])}}function f(t,e){for(var n in e)if(e.hasOwnProperty(n)){var i,o=e[n].value;r(o)&&(i=n.match(A))&&(t[i[1]](l(i[2]),o),delete e[n])}}function l(t){var r=t.match(P),e=r[1]?"change:":"";return e+=r[2].toLowerCase()+r[3]}function h(t,r,e){var n={silent:!0};t.__initializingAttrs=!0;for(var i in e)e.hasOwnProperty(i)&&r[i].setter&&t.set(i,e[i],n);delete t.__initializingAttrs}function v(t,r){var e={};for(var i in t){var o=t[i];!r&&n(o)&&p(o,m)?e[i]=o:e[i]={value:o}}return e}function y(t,r,e){var n,i,o;for(n in r)if(r.hasOwnProperty(n)){if(i=r[n],o=t[n],o||(o=t[n]={}),void 0!==i.value&&(o.value=a(i.value,o.value)),e)continue;for(var u in S){var c=S[u];void 0!==i[c]&&(o[c]=i[c])}}return t}function p(t,r){for(var e=0,n=r.length;n>e;e++)if(t.hasOwnProperty(r[e]))return!0;return!1}function g(r){return null==r||(t(r)||w(r))&&0===r.length||i(r)}function b(t,r){if(t===r)return!0;if(g(t)&&g(r))return!0;var e=O.call(t);if(e!=O.call(r))return!1;switch(e){case"[object String]":return t==String(r);case"[object Number]":return t!=+t?r!=+r:0==t?1/t==1/r:t==+r;case"[object Date]":case"[object Boolean]":return+t==+r;case"[object RegExp]":return t.source==r.source&&t.global==r.global&&t.multiline==r.multiline&&t.ignoreCase==r.ignoreCase;case"[object Array]":var i=t.toString(),o=r.toString();return-1===i.indexOf("[object")&&-1===o.indexOf("[object")&&i===o}if("object"!=("undefined"==typeof t?"undefined":_typeof(t))||"object"!=("undefined"==typeof r?"undefined":_typeof(r)))return!1;if(n(t)&&n(r)){if(!b(_(t),_(r)))return!1;for(var a in t)if(t[a]!==r[a])return!1;return!0}return!1}exports.initAttrs=function(t){var r=this.attrs={},e=this.propsInAttrs||[];u(r,this,e),t&&c(r,t),h(this,r,t),f(this,r),s(e,this,r,!0)},exports.get=function(t){var r=this.attrs[t]||{},e=r.value;return r.getter?r.getter.call(this,e,t):e},exports.set=function(r,e,i){var a={};t(r)?a[r]=e:(a=r,i=e),i||(i={});var u=i.silent,c=i.override,s=this.attrs,f=this.__changedAttrs||(this.__changedAttrs={});for(r in a)if(a.hasOwnProperty(r)){var l=s[r]||(s[r]={});if(e=a[r],l.readOnly)throw new Error("This attribute is readOnly: "+r);l.setter&&(e=l.setter.call(this,e,r));var h=this.get(r);!c&&n(h)&&n(e)&&(e=o(o({},h),e)),s[r].value=e,this.__initializingAttrs||b(h,e)||(u?f[r]=[e,h]:this.trigger("change:"+r,e,h,r))}return this},exports.change=function(){var t=this.__changedAttrs;if(t){for(var r in t)if(t.hasOwnProperty(r)){var e=t[r];this.trigger("change:"+r,e[0],e[1],r)}delete this.__changedAttrs}return this},exports._isPlainObject=n;var d,O=Object.prototype.toString,j=Object.prototype.hasOwnProperty;!function(){function t(){this.x=1}var r=[];t.prototype={valueOf:1,y:1};for(var e in new t)r.push(e);d="x"!==r[0]}();var w=Array.isArray||function(t){return"[object Array]"===O.call(t)},_=Object.keys;_||(_=function(t){var r=[];for(var e in t)t.hasOwnProperty(e)&&r.push(e);return r});var A=/^(on|before|after)([A-Z].*)$/,P=/^(Change)?([A-Z])(.*)/,m=["value","getter","setter","readOnly"],S=["setter","getter","readOnly"]});