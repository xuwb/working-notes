"use strict";define(function(require,exports,module){function e(e){var t=document.createElement("select");return $(t).attr("data-address",e),t}function t(e){var t=this,r=t["get"+e](),n=t["node"+e];n&&(0===r.list.length&&$(n).hide(),t.get("defaultFirst")||r.list.unshift({key:"请选择",value:""}),a.selectSerialize(n,r.list),r.focus&&(n.value=r.focus))}var $=require("$"),a=(require("common/util"),require("common/domUtil")),r=require("./main"),n=r.extend({clssName:"AddressSelect",attrs:{focus:{setter:function(e){var t=this;t.focus=e,t.renderSelect()},getter:function(){return this.focus||this.get("defaultFocus")||"000000"}},defaultFirst:!0},events:{"change [data-address]":function(e){var t=this,a=$(e.target),r=a.val();t.$("[data-address]").show(),r?t.set("focus",r):t.set("focus",a.prev().val()||"000000"),t.get("defaultFirst")&&a.next().trigger("change")}},setup:function(){var t=this;0===t.$("[data-address]").length?(t.nodeProvince=e("province"),t.nodeCity=e("city"),t.nodeArea=e("area"),t.element.append(t.nodeProvince,t.nodeCity,t.nodeArea)):(t.nodeProvince=t.$('[data-address="province"]')[0],t.nodeCity=t.$('[data-address="city"]')[0],t.nodeArea=t.$('[data-address="area"]')[0]),t.set("focus",t.get("focus"))},renderSelect:function(){var e=this,a=e.get("focus");return t.call(e,"Province"),t.call(e,"City"),t.call(e,"Area"),e.get("defaultFirst")?e.getTrueData().area&&e.trigger("change",a):e.trigger("change","000000"===a?"":a),e}});return n});