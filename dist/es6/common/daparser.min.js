"use strict";define(function(require,exports){function e(e){return e.toLowerCase().replace(a,function(e,t){return(t+"").toUpperCase()})}function t(e){for(var a in e)if(e.hasOwnProperty(a)){var i=e[a];if("string"!=typeof i)continue;n.test(i)?(i=i.replace(/'/g,'"'),e[a]=t(s(i))):e[a]=r(i)}return e}function r(e){if("false"===e.toLowerCase())e=!1;else if("true"===e.toLowerCase())e=!0;else if(/\d/.test(e)&&/[^a-z]/i.test(e)){var t=parseFloat(e);t+""===e&&(e=t)}return e}exports.parseElement=function(r,a){r=$(r)[0];var n={};if(r.dataset)n=$.extend({},r.dataset);else for(var s=r.attributes,i=0,o=s.length;o>i;i++){var f=s[i],u=f.name;0===u.indexOf("data-")&&(u=e(u.substring(5)),n[u]=f.value)}return a===!0?n:t(n)};var a=/-([a-z])/g,n=/^\s*[\[{].*[\]}]\s*$/,s=window.JSON?JSON.parse:$.parseJSON});