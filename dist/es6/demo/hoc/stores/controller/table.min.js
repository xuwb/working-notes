"use strict";define(function(require,exports,module){var t=require("../common"),i=require("util");return t({store:[],init:function(){var t=this;i.fetch("src/data.json").then(function(i){t.trigger(t.store=i)})["catch"](function(t){console.log(t)})},getInitialState:function(){return this.store},onAdd:function(t){if(t){var e=i.randomStr(6);this.store.push({id:e,name:t}),this.trigger(this.store)}},onModify:function(t,i){var e=this.getIndexById(this.store,t);-1!=e&&(this.store[e].name=i),this.trigger(this.store)},onDelete:function(t){var i=this.getIndexById(this.store,t);-1!=i&&this.store.splice(i,1),this.trigger(this.store)},getIndexById:function(t,i){var e=-1;return $.each(t,function(t,n){return n.id==i?(e=t,!1):void 0}),e}})});