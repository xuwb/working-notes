"use strict";$(function(){function a(){var a=$(window).get(0).innerWidth,n=$(window).get(0).innerHeight;i.attr("width",a),i.attr("height",n),e={x:a/2,y:n/2}}function n(a){a=a||100;for(var n=i.width(),t=i.height(),c=n>t?n/2:t/2,g=0;a>g;g++){var s=parseInt(c*Math.random(),10);-1!=o.indexOf(s)||100>s?g--:o.push(s)}o.forEach(function(a){r.beginPath();var n=a,t=Math.random(),i={x:e.x+a*Math.cos(n),y:e.y+a*Math.sin(n),r:a,alpha:t};h.push(i),r.strokeStyle="rgba(0, 0, 0, 0)",r.lineWidth=2,r.moveTo(i.x,i.y),r.arc(e.x,e.y,a,n,n+Math.PI/360),r.stroke(),l.push({angle1:n,angle2:a})})}function t(a){function n(){r.clearRect(0,0,i.width(),i.height()),g+=2,o.forEach(function(n,i){r.beginPath();var o=a>0?t[i].angle1:t[i].angle2,c=o+Math.PI/360+g*Math.PI/720;r.strokeStyle="rgba(0, 0, 0, "+h[i].alpha+")",r.moveTo(h[i].x,h[i].y),r.arc(e.x,e.y,n,t[i].angle1,c,!(a>0)),r.stroke(),l[i]={angle1:c,angle2:t[i].angle1}}),c=requestAnimationFrame(n),0>a&&l[0].angle1-l[0].angle2>-.01&&(r.clearRect(0,0,i.width(),i.height()),cancelAnimationFrame(c))}var t=l.slice();h=h.map(function(a,n){return{x:e.x+a.r*Math.cos(t[n].angle1),y:e.y+a.r*Math.sin(t[n].angle1),alpha:a.alpha}}),n()}var e,i=$("#canvas-sky"),r=i[0].getContext("2d"),o=[],h=[];$(window).resize(a);var c,l=[],g=0;i.on("mouseenter",function(a){c&&cancelAnimationFrame(c),t(1)}),i.on("mouseout",function(a){g=0,c&&cancelAnimationFrame(c),t(-1)}),a(),n(200)});