"use strict";Object.create||(Object.prototype.create=function(t){function e(){}return e.prototype=t,new e}),Math.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)}).toUpperCase()};var Model={created:function(){},inherited:function(){},prototype:{init:function(){console.log("instance init")}},create:function(){var t=Object.create(this);return t.parent=this,t.prototype=t.fn=Object.create(this.prototype),t.created(),this.inherited(t),t},init:function(){var t=Object.create(this.prototype);return t.parent=this,t.init.apply(this,arguments),t},extend:function(t){$.extend(this,t);var e;(e=t.extended)&&e(t)},include:function(t){$.extend(this.prototype,t);var e;(e=t.included)&&e(t)}};Model.extend({created:function(){this.records={}},find:function(t){var e=this.records[t];if(!e)throw"has no result";return e}}),Model.include({hasRecord:!1,create:function(){this.id||(this.id=Math.guid()),this.parent.records[this.id]=this.clone(),this.hasRecord=!0},update:function(){this.parent.records[this.id]=this.clone()},save:function(){this.hasRecord?this.update():this.create()},clone:function(){return $.extend({},this)}});var Asset=Model.create(),asset=Asset.init();asset.name="jack",asset.save(),asset.name="jack2",asset.save(),console.log(Asset.find(asset.id).name);