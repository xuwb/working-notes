"use strict";define(function(t,n,e){var i=t("reflux"),o=t("../actions/crud_actions"),c=t("common/util"),r=i.createStore({listenables:[o],init:function(){this.onFetch()},onFetch:function(){var t=this;c.fetch("src/data.json").then(function(n){t.trigger({type:"init",value:n})})["catch"](function(t){console.log(t)})},onDataChange:function(t){t.id?this.onModify(t):this.onAdd(t)},onAdd:function(t){t.id=c.randomBy(1e3),this.trigger({type:"add",value:t})},onModify:function(t){this.trigger({type:"modify",value:t})},onDelete:function(t){this.trigger({type:"delete",value:t})}});return r});